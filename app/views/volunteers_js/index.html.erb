<div ng-controller="VolunteersListCtrl" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

  <div class="row">
    <div class="span4" style="padding-left: 100px;">

      <fieldset class="filter">
        <legend>Filter Volunteers</legend>
        <form novalidate>
          <label>Name</label>
          <input type="text" ng-model="criteria.name">
          <label>Company</label>
          <input type="text" ng-model="criteria.company">
          <label>Email</label>
          <input type="text" ng-model="criteria.email">

          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#skills-collapse" onclick="return toggleElement('skills-collapse')">
                <label>Skills</label>
              </a>
            </div>
            <div style="display:none;" id="skills-collapse">
              <ul>
                <li ng-repeat="skill in criteria.skills">
                  <input type="checkbox" ng-model="skill.checked">
                  {{skill.name}}
                </li>
              </ul>
            </div>
          </div>

          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#orgs_interested_in-collapse" onclick="return toggleElement('orgs_interested_in-collapse')">
                <label>Organizations Interested In</label>
              </a>
            </div>
            <div style="display:none;" id="orgs_interested_in-collapse">
              <ul>
                <li ng-repeat="org in criteria.orgs_interested_in">
                  <input type="checkbox" ng-model="org.checked">
                  {{org.name}}
                  </input>
                </li>
              </ul>
            </div>
          </div>

          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#causes_interested_in-collapse" onclick="return toggleElement('causes_interested_in-collapse')">
                <label>Causes Interested In</label>
              </a>
            </div>
            <div style="display:none;" id="causes_interested_in-collapse">
              <ul>
                <li ng-repeat="cause in criteria.causes_interested_in">
                  <input type="checkbox" ng-model="cause.checked">
                  {{cause.name}}
                  </input>
                </li>
              </ul>
            </div>
          </div>


          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#languages_interested_in-collapse" onclick="return toggleElement('languages_interested_in-collapse')">
                <label>Languages Interested In</label>
              </a>
            </div>
            <div style="display:none;" id="languages_interested_in-collapse">
              <ul>
                <li ng-repeat="language in criteria.languages_interested_in">
                  <input type="checkbox" ng-model="language.checked">
                  {{language.name}}
                  </input>
                </li>
              </ul>
            </div>
          </div>

          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#time_to_commit-collapse" onclick="return toggleElement('time_to_commit-collapse')">
                <label>Time to Commit</label>
              </a>
            </div>
            <div style="display:none;" id="time_to_commit-collapse">
              <ul>
                <li ng-repeat="time in criteria.time_to_commit">
                  <input type="radio" ng-model="criteria.time_selected" value="{{time.search_value}}">
                  {{time.name}}
                  </input>
                </li>
              </ul>
            </div>
          </div>

          <div class="accordion-group">
            <div class="accordion-heading">
              <a href="#open_source_projects-collapse" onclick="return toggleElement('open_source_projects-collapse')">
                <label>Open Source Projects</label>
              </a>
            </div>
            <div style="display:none;" id="open_source_projects-collapse">
              <ul>
                <li ng-repeat="answer in criteria.open_source_projects">
                  <input type="radio" ng-model="criteria.open_source_answer" value="{{answer.search_value}}">
                  {{answer.name}}
                  </input>
                </li>
              </ul>
            </div>
          </div>
          <br>
          <button ng-click="filter()" class="btn" type="submit">Filter</button>
          <button class="btn" ng-click="reset()">Reset</button>
        </form>
      </fieldset>
    </div>
    <div class="span8 scrollbox" style="padding-top: 50px;">
      <!--<div ng-controller="ExpandCtrl">-->
      <ul style="clear: both;">

        <li ng-repeat="volunteer in volunteers" class="profile">
          <div style="margin-left:10px; margin-right:10px;overflow: auto;">
            <h4 style="text-align: left;"><a href="/volunteers/{{volunteer.id}}">{{volunteer.name}}</a>
              <a href="mailto:{{volunteer.email}}" class="small-icon"><img src="./assets/Carta.png"/></a>
              <a href="http://www.linkedin.com" class="small-icon"><img src="./assets/linkedin-icon-gif.gif"/></a>
            </h4>

            <p style="font-size: 10px;">submitted {{volunteer.time_since_last_update}}</p>

            <strong style="float:left; width:100px;">Company</strong>

            <div style="float:left; margin-left:10px">{{volunteer.company}}</div>
            <br>

            <strong style="float:left; width:100px;">Organizations</strong>

            <div style="float:left;width:270px;margin-left:10px;">
              <div style="float:left">
                {{volunteer.orgs_interested_in.slice(0,3).join(", ")}}
                      <span style="display:inline-block;" ng-init="is_shown_orgs = (volunteer.orgs_interested_in.length > 3)"
                            ng-show="is_shown_orgs">
                        ...<a href="#" ng-click="is_shown_orgs=false">more</a><br>
                      </span>
                      <span style="display:inline-block;" ng-show="!is_shown_orgs && (volunteer.orgs_interested_in.length > 3)">
                      {{", "+volunteer.orgs_interested_in.slice(3,volunteer.orgs_interested_in.length).join(", ")}}
                      <a href="#" ng-click="is_shown_orgs=true">less</a><br>
                      </span>
              </div>
            </div>

            <strong style="float:left; width:100px;">Causes</strong>

            <div style="float:left;width:270px;margin-left:10px;">
              <div style="float:left">
                {{volunteer.causes_interested_in.slice(0,3).join(", ")}}
                      <span style="display:inline-block;" ng-init="is_shown_causes= (volunteer.causes_interested_in.length > 3)"
                            ng-show="is_shown_causes">
                        ...<a href="#" ng-click="is_shown_causes=false">more</a><br>
                        </span>
                        <span style="display:inline-block" ng-show="!is_shown_causes && (volunteer.causes_interested_in.length > 3)">
                        {{", "+volunteer.causes_interested_in.slice(3,volunteer.causes_interested_in.length).join(", ")}}
                        <a href="#" ng-click="is_shown_causes=true">less</a><br>
                        </span>
              </div>
            </div>
            <strong style="float:left; width:100px;">Languages</strong>

            <div style="float:left;width:270px;margin-left:10px;">
              <div style="float:left">
                {{volunteer.languages_interested_in.slice(0,3).join(", ")}}
                <span style="display:inline-block;" ng-init="is_shown_lang = (volunteer.languages_interested_in.length > 3)" ng-show="is_shown_lang">
                        ...<a href="#" ng-click="is_shown_lang=false">more</a><br>
                    </span>
                    <span style="display:inline-block;" ng-show="!is_shown_lang && (volunteer.languages_interested_in.length > 3)">
                        {{", "+volunteer.languages_interested_in.slice(3,volunteer.languages_interested_in.length).join(", ")}}
                        <a href="#" ng-click="is_shown_lang=true">less</a><br>
                    </span>
              </div>
            </div>

            <strong style="float:left; width:100px;">Time commit</strong>

            <div style="float:left; margin-left:10px">{{volunteer.time_to_commit}}</div>
            <br>


          </div>
        </li>
      </ul>
    </div>
  </div>
</div>